<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>중앙ICS</title>
    <meta name="description" content="중앙ICS" />

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="assets/fullpage/fullpage.min.css"
    />
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <link rel="stylesheet" type="text/css" href="assets/style.css" />
    <!-- CSS End -->

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <!-- JS End -->
  </head>
  <body>
    <div id="progress">
      <div id="progressBar"></div>
    </div>
    <div id="menu" onclick="openMenu();">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <path
          d="M4 22h-4v-4h4v4zm0-12h-4v4h4v-4zm0-8h-4v4h4v-4zm3 0v4h17v-4h-17zm0 12h17v-4h-17v4zm0 8h17v-4h-17v4z"
        />
      </svg>
    </div>
    <!-- Content -->
    <div id="fullpage">
      <!-- page1 -->
      <div class="section active" id="section0" data-section="0">
        <div>
          <img class="page-bg-img" src="assets/image/0/bg.png" />
          <img
            class="content wow0 fadeInDown"
            src="assets/image/0/t1.png"
            data-wow-duration="1s"
          />
          <img
            class="content wow0 fadeInRight"
            src="assets/image/0/t2.png"
            data-wow-duration="2s"
          />
          <div class="wow0 fadeIn" data-wow-duration="3s">
            <img
              class="content wow0 infinite pulse"
              src="assets/image/0/t3.png"
            />
          </div>
        </div>
      </div>
      <!-- page1 End -->

      <!-- page2 -->
      <div class="section" id="section1" data-section="1">
        <div>
          <div class="ani-wrapper">
            <img class="page-bg-img" src="assets/image/1/bg.png" />
            <img
              class="content wow1 fadeInDown"
              src="assets/image/1/t1.png"
              data-wow-duration="1s"
            />
            <img
              class="content wow1 fadeInRight"
              src="assets/image/1/t2.png"
              data-wow-duration="2s"
            />
            <img
              id="section1_ani"
              class="content wow1 fadeInUp"
              src="assets/image/1/ani1.png"
              data-wow-duration="2s"
            />
          </div>
          <div class="video-wrapper">
            <img class="content" src="assets/image/1_1/bg.png" />
            <img
              class="content animated bounce infinite click"
              src="assets/image/1_1/click.png"
            />
            <div class="content btn" onclick="showVideo('1');"></div>
          </div>
        </div>
      </div>
      <!-- page2 End -->

      <!-- page3 -->
      <div class="section" id="section2" data-section="2">
        <div>
          <img class="content" src="assets/image/2/bg.png" />
          <div class="content wow2 fadeInLeft">
            <img
              class="animated pulse infinite delay-1s"
              src="assets/image/2/t1.png"
            />
          </div>
          <img
            class="content wow2 fadeInRight"
            src="assets/image/2/t2.png"
            data-wow-duration="2s"
          />
          <div class="before">
            <img
              class="content wow2 fadeIn anne"
              src="assets/image/2/ani.png"
              data-wow-duration="3s"
            />
          </div>
          <div class="after">
            <img
              class="content"
              src="assets/image/2_1/ani.png"
              data-wow-duration="3s"
            />
            <img
              class="content animated bounce infinite click"
              src="assets/image/2_1/click.png"
            />
            <div class="content btn" onclick="showVideo('2');"></div>
          </div>
        </div>
      </div>
      <!-- page3 End -->

      <!-- page4 -->
      <div class="section" id="section3" data-section="3"></div>

      <!-- page4 End -->

      <!-- page5 -->
      <div class="section" id="section4" data-section="4"></div>

      <!-- page5 End -->

      <!-- page6 -->
      <div class="section" id="section5" data-section="5"></div>
      <!-- page6 End -->

      <!-- page7 -->
      <div class="section" id="section6" data-section="6"></div>
      <!-- page7 End -->

      <!-- page8 Roadmap -->
      <div class="section" id="section7" data-section="7"></div>
      <!-- page8 Roadmap End -->
    </div>
    <!-- Content End -->

    <!-- Bottom JS -->
    <script
      type="text/javascript"
      src="assets/fullpage/fullpage.min.js"
    ></script>
    <script type="text/javascript" src="assets/WOW.js"></script>
    <script type="text/javascript" src="assets/wScratchPad.js"></script>
    <script type="text/javascript">
      var progressTimer;
      var progressFirstRun = true;
      var section1Ani = 1;

      $(function () {
        new WOW({ boxClass: "wow0" }).init();
      });

      function openMenu() {
        Swal.fire({
          title: "",
          icon: "",
          html:
            '<div class="menu">' +
            '<img class="close" src="assets/image/menu/close.png" onclick="Swal.close();" />' +
            '<img class="content" src="assets/image/menu/bg.png" />' +
            // '<img class="content" src="assets/image/menu/btn_all.png" />' +
            '<div class="btn btn1" onclick="goToPage(1);"></div>' +
            '<div class="btn btn2" onclick="goToPage(2);"></div>' +
            '<div class="btn btn3" onclick="goToPage(5);"></div>' +
            '<div class="btn btn4" onclick="goToPage(8);"></div>' +
            "</div>",
          showConfirmButton: false,
          showCloseButton: false,
          showCancelButton: false,
          focusConfirm: false,
          grow: "fullscreen",
        });
      }

      function showVideo(type) {
        setTimeout(function () {
          $.fn.fullpage.setMouseWheelScrolling(true);
        }, 10);
        Swal.fire({
          title: "",
          icon: "",
          html:
            "<video controls autoplay>" +
            '<source src="assets/video/' +
            type +
            '.mp4" type="video/mp4">' +
            "</video>",
          showConfirmButton: false,
          showCloseButton: true,
          showCancelButton: false,
          focusConfirm: false,
          grow: "fullscreen",
        });
      }

      function runProgress(oldIdx, newIdx) {
        var num = newIdx + 1;
        var done = parseFloat(num / 7);
        done = 1280 * done;
        var width = parseFloat($("#progressBar").css("width"));

        if (num === 7) {
          done = 1280;
        }
        if (progressTimer) {
          clearInterval(progressTimer);
        }

        (function move(width, done, oldIdx, newIdx) {
          progressTimer = setInterval(frame, 10);

          function frame() {
            if (progressFirstRun || oldIdx < newIdx) {
              if (width >= done) {
                progressFirstRun = false;
                clearInterval(progressTimer);
              } else {
                width += 5;
                $("#progressBar").css("width", width + "px");
              }
            } else {
              if (width <= done) {
                clearInterval(progressTimer);
              } else {
                width -= 5;
                $("#progressBar").css("width", width + "px");
              }
            }
          }
        })(width, done, oldIdx, newIdx);
      }

      function goToPage(pageNum) {
        // window.location.href = "#page" + pageNum;
      }

      $(document).ready(function () {
        $("#fullpage").fullpage({
          licenseKey: "OPEN-SOURCE-GPLV3-LICENSE",
          anchors: [
            "page1",
            "page2",
            "page3",
            "page4",
            "page5",
            "page6",
            "page7",
            "page8",
          ],
          scrollBar: true,
          onLeave: function (origin, destination, direction) {
            runProgress(origin.index, destination.index);
            $("#section" + destination.index + " .wow").each(function () {
              $(this).removeClass("animated");
              $(this).removeAttr("style");
              $(this).css("visibility", "hidden");
            });
            new WOW({
              boxClass: "wow" + destination.index,
            }).init();

            //section1
            switch (destination.index) {
              case 1:
                section1Ani = 1;
                $("#section1_ani").attr("src", "assets/image/1/ani1.png");
                $.fn.fullpage.setMouseWheelScrolling(false);
                $("#section1 .ani-wrapper").css("opacity", 1);
                $("#section1 .video-wrapper").css("display", "none");
                break;
              case 2:
                $("#section2 .before").css("display", "block");
                $("#section2 .after").css("display", "none");
                break;
            }
          },
          afterLoad: function (origin, destination, direction) {
            if (progressFirstRun) {
              runProgress(origin.index, destination.index);
            }
            switch (destination.index) {
              case 2:
                setTimeout(function () {
                  $("#section2 .before").css("display", "none");
                  $("#section2 .after").css("display", "block");
                }, 1300);
                break;

                break;
            }
          },
        });

        // section1 animation
        $("#section1").on("mousewheel DOMMouseScroll", function (e) {
          var E = e.originalEvent;
          delta = 0;
          if (E.detail) {
            delta = E.detail * -40;
          } else {
            delta = E.wheelDelta;
          }

          var num = parseInt($(this).data("section"));
          if (delta <= -120 && section1Ani < 5) {
            section1Ani += 1;
          } else if (delta >= 120 && section1Ani > 1) {
            section1Ani -= 1;
          }
          $("#section1_ani").attr(
            "src",
            "assets/image/1/ani" + section1Ani + ".png"
          );
          if (section1Ani >= 5) {
            $("#section1 .ani-wrapper").css("opacity", 0);
            $("#section1 .video-wrapper").css("display", "block");
          } else if (section1Ani <= 1) {
            setTimeout(function () {
              $.fn.fullpage.setMouseWheelScrolling(true);
            }, 10);
          } else {
            $("#section1 .ani-wrapper").css("opacity", 1);
            $("#section1 .video-wrapper").css("display", "none");
            $.fn.fullpage.setMouseWheelScrolling(false);
          }
        });
      });
    </script>
    <!-- Bottom JS End -->
  </body>
</html>
